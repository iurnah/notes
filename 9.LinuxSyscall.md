Linux System Call Caveats
===

When I working with S2E's system call interceptor, there is a lot of caveats in implementing such an interceptor. This is because system call mechanism in Linux like system have been envolved for many years. In real systems, there are multiples of different instruction can do this. Generally speaking, Linux system call is implemented differently in the following method:

1. int 0x80h instruction
2. syscall instruction
3. sysenter, sysexit instruction
4. call *%gs:0x10 instruction
5. and through the VDSO (vsyscall) mechanism

In the last case, it will ultimately make use of the previuos four instruction.

I am going to study and summarize all the details about those five cases in order to answer the following questions for my project.

1. How the system call is implemented in the linux I used?
2. How many possibilities it could be? (e.g. in library call, in source file, etc.)
3. In each case, how should I implement the interceptor in S2E? (core event onSyscall)
4. How the libc engaged with system calls?
5. Why should I hook the onExeception for 0x80 as discussed in this group [discussion](https://mail.google.com/mail/u/0/?tab=om#search/s2e-dev%40googlegroups.com/140ee25edec05517)



